"use strict";!function(){for(var e=/([^\[]+)\[(\d+)\](.*)/g,t=document.querySelectorAll(".form-table"),r=function(e){1!==e.target.closest("tbody").querySelectorAll("tr").length&&e.target.closest("tr").remove()},a=function(a){var o=t[a],l=o.parentNode.querySelector(".form-table-add-row"),c=(o.getAttribute("data-max-rows"),o.querySelectorAll(".form-table-remove-row"));if(c.forEach(function(e){e.addEventListener("click",r)}),l){var n=function(){var t=o.querySelectorAll("input, select"),r=0;return t.forEach(function(t){var a=e.exec(t.name);if(a){var o=parseInt(a[2]);r=Math.max(r,o)}}),++r};l.addEventListener("click",function(){var t=o.querySelector("tbody > tr:first-child");if(t){var a=t.cloneNode(!0),l=a.querySelectorAll("input, select"),c=n();l.forEach(function(t){t.name=t.name.replace(e,"$1["+c+"]$3"),"SELECT"!==t.tagName&&(t.checked=!1,t.value=t.dataset.defaultValue)});var u=a.querySelector(".form-table-remove-row");u&&u.addEventListener("click",r),o.querySelector("tbody").appendChild(a)}})}},o=0;o<t.length;o++)a(o)}();